{% extends 'base.html' %}
{% block content %}
{% load static %}
<style>
    .hero_area {
        height: fit-content;
    }
    .layout_padding-top {
    padding-top: 275px;
}

.info_section {
  visibility: hidden;
}
</style>
<style>
  .success-message {
      color: green;
      font-weight: bold;
  }
  .error-message {
      color: red;
      font-weight: bold;
  }
</style>
<section class="contact_section layout_padding-top">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-5 offset-md-1">
          <div class="form_container">
            <div class="heading_container">
              <img src="{% static 'images/heading-img.png' %}" alt="">
              <h2>
                Sukurkite naują slaptažodį
              </h2>
              <p>
                Pakeitus slaptažodį senas jau nebegalios
              </p>
            </div>
            <form method="POST">
              {% csrf_token %}
              {% if messages %}
              <div class="messages" id="message-container">
                {% for message in messages %}
                  <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                  </div>
                {% endfor %}
              </div>
            {% endif %}
              <div>
                <input type="new_password" name="new_password" placeholder="Naujas Slaptažodis" required />
              </div>
              <div>
                <input type="confirm_password" name="confirm_password" placeholder="Patvirtinkite slaptažodį" required />
              </div>
              <div class="d-flex ">
                <button type="submit">
                  Patvirtinti
                </button>
              </div>
            </form>
            <p>Neturite paskyros? <a href="{% url 'register' %}">Registruokitės čia</a></p>
            <p style="text-decoration: underline;">Visos paslaugos bus pasiekiamos tik prisiregistravus</p>

          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var messageContainer = document.getElementById('message-container');
      if (messageContainer) {
        setTimeout(function() {
          messageContainer.style.opacity = 0;
          setTimeout(function() {
            messageContainer.style.display = 'none';
          }, 1000); // Wait for the fade-out transition to complete
        }, 3000); // Wait for 3 seconds before starting the fade-out
      }
    });
  </script>
{% endblock %}
